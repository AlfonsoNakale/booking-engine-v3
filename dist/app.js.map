{"mappings":"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","sources":["js/app.js","js/modules/datePickers.js","js/modules/displayCalculations.js","js/modules/vehicleSelection.js","js/modules/calculations.js","js/modules/extras.js","js/modules/apiExchange.js","js/modules/apiChoice.js"],"sourcesContent":["\"use strict\";\n\n// Import dependencies using ESM syntax\nimport { initializeDatePickers } from \"./modules/datePickers.js\";\nimport { initializeVehicleSelection } from \"./modules/vehicleSelection.js\";\nimport { initializeExtras } from \"./modules/extras.js\";\nimport { initializeCurrencyToggle } from \"./modules/apiExchange.js\";\nimport { calculateTotals } from \"./modules/calculations.js\";\nimport { populateCountrySelect } from \"./modules/apiChoice.js\";\n\n// Initialize Webflow\nwindow.Webflow ||= [];\nwindow.Webflow.push(() => {\n  const initializeBookingForm = async () => {\n    try {\n      const form = document.querySelector(\"#booking_form\");\n      if (!form) throw new Error(\"Booking form not found\");\n\n      form.classList.add(\"loading\");\n\n      await populateCountrySelect();\n\n      await Promise.all([\n        initializeDatePickers(),\n        initializeVehicleSelection(),\n        initializeExtras(),\n        initializeCurrencyToggle(),\n      ]);\n\n      handleFormSubmission();\n      calculateTotals();\n      form.classList.remove(\"loading\");\n    } catch (error) {\n      console.error(\"Error initializing booking form:\", error);\n      showError(\n        \"There was an error loading the booking form. Please refresh the page.\"\n      );\n    }\n  };\n\n  const handleFormSubmission = () => {\n    const form = document.querySelector(\"#wf-form-Booking-form\");\n    if (!form) return;\n\n    form.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n\n      try {\n        form.classList.add(\"submitting\");\n\n        if (!validateForm(form)) {\n          throw new Error(\"Please fill in all required fields\");\n        }\n\n        const formData = new FormData(form);\n        showSuccess(\"Booking submitted successfully!\");\n      } catch (error) {\n        console.error(\"Form submission error:\", error);\n        showError(error.message);\n      } finally {\n        form.classList.remove(\"submitting\");\n      }\n    });\n  };\n\n  const validateForm = (form) => {\n    return true;\n  };\n\n  const showError = (message) => {\n    const errorAlert = document.querySelector(\".error-alert-bg\");\n    if (errorAlert) {\n      errorAlert.querySelector(\".error-alert-text\").textContent = message;\n      errorAlert.classList.remove(\"is-hidden\");\n      setTimeout(() => errorAlert.classList.add(\"is-hidden\"), 5000);\n    }\n  };\n\n  const showSuccess = (message) => {\n    const successAlert = document.querySelector(\".success-alert-bg\");\n    if (successAlert) {\n      successAlert.querySelector(\".success-alert-text\").textContent = message;\n      successAlert.classList.remove(\"is-hidden\");\n      setTimeout(() => successAlert.classList.add(\"is-hidden\"), 5000);\n    }\n  };\n\n  initializeBookingForm();\n});\n","import flatpickr from \"flatpickr\";\nimport { updateDateDisplay } from \"./displayCalculations\";\n\n// Add this function to handle pickup location visibility and values\nfunction initializePickupLocation() {\n  // Get DOM elements\n  const pickupConfirmation = document.querySelector(\"#pickup-confirmation\");\n  const pickupLocation = document.querySelector(\"#i-pickup-location\");\n  const returnLocation = document.querySelector(\"#i-return-location\");\n  const deliveryFeeElement = document.querySelector(\"#v-calc-delivery-fee\");\n  const vPickupLocation = document.querySelector(\"#v-pickup-location\");\n  const vReturnLocation = document.querySelector(\"#v-return-location\");\n\n  // Set initial state - hidden by default\n  pickupLocation.closest(\".input-dropdown\").style.display = \"none\";\n  returnLocation.closest(\".input-dropdown\").style.display = \"none\";\n\n  // Add event listener to select fields to update display values\n  pickupLocation.addEventListener(\"change\", function () {\n    // Only update if a real option is selected (not the placeholder)\n    if (this.selectedIndex !== 0) {\n      vPickupLocation.textContent = this.options[this.selectedIndex].text;\n    }\n  });\n\n  returnLocation.addEventListener(\"change\", function () {\n    // Only update if a real option is selected (not the placeholder)\n    if (this.selectedIndex !== 0) {\n      vReturnLocation.textContent = this.options[this.selectedIndex].text;\n    }\n  });\n\n  // Add event listener to checkbox\n  pickupConfirmation.addEventListener(\"change\", function () {\n    // Toggle visibility based on checkbox state\n    const displayStyle = this.checked ? \"block\" : \"none\";\n    pickupLocation.closest(\".input-dropdown\").style.display = displayStyle;\n    returnLocation.closest(\".input-dropdown\").style.display = displayStyle;\n\n    // Set delivery fee based on checkbox state\n    deliveryFeeElement.textContent = this.checked ? \"250.00\" : \"0.00\";\n\n    if (!this.checked) {\n      // Reset values when unchecked\n      pickupLocation.selectedIndex = 0;\n      returnLocation.selectedIndex = 0;\n      vPickupLocation.textContent = \"-\";\n      vReturnLocation.textContent = \"-\";\n    }\n  });\n}\n\n// Helper function to set select value based on text\nfunction setSelectValue(selectElement, text) {\n  for (let option of selectElement.options) {\n    if (option.text === text) {\n      selectElement.value = option.value;\n      break;\n    }\n  }\n}\n\nexport function initializeDatePickers() {\n  let pickupDateInstance;\n  let returnDateInstance;\n\n  // Pickup Date Configuration\n  const pickupDateConfig = {\n    enableTime: true,\n    dateFormat: \"Y-m-d H:i\",\n    minDate: \"today\",\n    time_24hr: true,\n    minuteIncrement: 30,\n    onChange: function (selectedDates, dateStr) {\n      // Update return date min date when pickup date changes\n      if (returnDateInstance) {\n        returnDateInstance.set(\"minDate\", dateStr);\n\n        // If return date is earlier than new pickup date, clear it\n        const returnDate = returnDateInstance.selectedDates[0];\n        if (returnDate && returnDate < selectedDates[0]) {\n          returnDateInstance.clear();\n          showDateAlert(\n            \"Return date cannot be earlier than pickup date. Please select a new return date.\"\n          );\n        }\n      }\n      updateDateDisplay();\n    },\n  };\n\n  // Return Date Configuration\n  const returnDateConfig = {\n    enableTime: true,\n    dateFormat: \"Y-m-d H:i\",\n    minDate: \"today\",\n    time_24hr: true,\n    minuteIncrement: 30,\n    onChange: function (selectedDates, dateStr) {\n      const pickupDate = pickupDateInstance.selectedDates[0];\n\n      // Validate return date is after pickup date\n      if (pickupDate && selectedDates[0] < pickupDate) {\n        returnDateInstance.clear();\n        showDateAlert(\n          \"Return date cannot be earlier than pickup date. Please select a valid date.\"\n        );\n        return;\n      }\n      updateDateDisplay();\n    },\n  };\n\n  // Initialize pickup and return date pickers\n  pickupDateInstance = flatpickr(\"#i-pickup-date\", pickupDateConfig);\n  returnDateInstance = flatpickr(\"#i-return-date\", returnDateConfig);\n\n  // Date of Birth Configuration\n  const dobConfig = {\n    dateFormat: \"Y-m-d\",\n    maxDate: new Date(),\n    yearRange: [1900, new Date().getFullYear()],\n  };\n\n  // Expiration Date Configuration\n  const expirationConfig = {\n    dateFormat: \"Y-m-d\",\n    minDate: \"today\",\n  };\n\n  // Initialize other date pickers\n  flatpickr(\"#i-date-of-birth\", dobConfig);\n  flatpickr(\"#i-expiration-date\", expirationConfig);\n\n  // Add this line at the end of the function\n  initializePickupLocation();\n}\n\n// Function to show date validation alert\nfunction showDateAlert(message) {\n  // Find the return date error alert element\n  const errorAlert = document\n    .querySelector(\"#i-return-date\")\n    .closest(\".f-field-wrapper\")\n    .querySelector(\".error-alert-bg\");\n\n  // Update error message\n  errorAlert.querySelector(\".error-alert-text\").textContent = message;\n\n  // Show the error\n  errorAlert.classList.remove(\"is-hidden\");\n\n  // Hide the error after 5 seconds\n  setTimeout(() => {\n    errorAlert.classList.add(\"is-hidden\");\n  }, 5000);\n}\n","/**\n * Updates the display elements with the selected dates and calculates duration\n * @param {string} pickupDateId - ID of the pickup date input element\n * @param {string} returnDateId - ID of the return date input element\n */\nexport const updateDateDisplay = () => {\n  // Get the date input elements\n  const pickupDateInput = document.querySelector(\"#i-pickup-date\");\n  const returnDateInput = document.querySelector(\"#i-return-date\");\n\n  // Get the display elements\n  const pickupDateDisplay = document.querySelector(\"#v-pickup-date\");\n  const returnDateDisplay = document.querySelector(\"#v-return-date\");\n  const durationDisplay = document.querySelector(\"#v-calc-duration\");\n\n  // Update the display elements with formatted dates\n  if (pickupDateInput.value) {\n    const pickupDate = new Date(pickupDateInput.value);\n    pickupDateDisplay.textContent = formatDateTime(pickupDate);\n  }\n\n  if (returnDateInput.value) {\n    const returnDate = new Date(returnDateInput.value);\n    returnDateDisplay.textContent = formatDateTime(returnDate);\n  }\n\n  // Calculate and display duration if both dates are set\n  if (pickupDateInput.value && returnDateInput.value) {\n    const duration = calculateDuration(\n      new Date(pickupDateInput.value),\n      new Date(returnDateInput.value)\n    );\n    durationDisplay.textContent = duration;\n  }\n};\n\n/**\n * Formats a date object to a readable string\n * @param {Date} date - The date to format\n * @returns {string} Formatted date string\n */\nconst formatDateTime = (date) => {\n  return date.toLocaleString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n};\n\n/**\n * Calculates the duration in days between two dates\n * @param {Date} pickupDate - The pickup date\n * @param {Date} returnDate - The return date\n * @returns {number} Number of days between dates\n */\nconst calculateDuration = (pickupDate, returnDate) => {\n  const diffTime = returnDate - pickupDate;\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays;\n};\n","import { calculateTotals } from \"./calculations\";\n\nexport const initializeVehicleSelection = () => {\n  const vehicleInputs = document.querySelectorAll('input[name=\"vehicle\"]');\n\n  vehicleInputs.forEach((input) => {\n    input.addEventListener(\"change\", (e) => {\n      const vehicleName = e.target\n        .closest(\".f-radio-field\")\n        .querySelector(\".vehicle-name\").textContent;\n      const vehiclePrice = parseFloat(e.target.value);\n\n      // Update vehicle display\n      document.querySelector(\"#v-vehicle-name\").textContent = vehicleName;\n      document.querySelector(\"#v-calc-vehicle-price\").textContent =\n        vehiclePrice.toFixed(2);\n\n      calculateTotals();\n    });\n  });\n};\n","import { calculateExtrasTotal } from \"./extras\";\n\n// Constants\nconst TAX_RATE = 0.15;\nconst SELECTORS = {\n  vehiclePrice: \"#v-calc-vehicle-price\",\n  duration: \"#v-calc-duration\",\n  deliveryFee: \"#v-calc-delivery-fee\",\n  totalExtra: \"#v-calc-total-extra\",\n  tax: \"#v-calc-tax\",\n  subtotal: \"#v-calc-subtotal\",\n  total: \"#v-calc-total\",\n};\n\n// Helper function to safely get numeric values from elements\nconst getNumericValue = (\n  selector,\n  defaultValue = 0,\n  parseFunc = parseFloat\n) => {\n  try {\n    const element = document.querySelector(selector);\n    if (!element) return defaultValue;\n    const value = parseFunc(element?.textContent || defaultValue);\n    return isNaN(value) ? defaultValue : value;\n  } catch (error) {\n    return defaultValue;\n  }\n};\n\n// Helper function to safely update element text\nconst updateElement = (selector, value) => {\n  try {\n    const element = document.querySelector(selector);\n    if (element) {\n      element.textContent = value.toFixed(2);\n    }\n  } catch (error) {\n    // Silent error handling\n  }\n};\n\nexport const calculateTotals = () => {\n  try {\n    // Get base values\n    const baseValues = {\n      vehiclePrice: getNumericValue(SELECTORS.vehiclePrice),\n      duration: getNumericValue(SELECTORS.duration, 0, parseInt),\n      deliveryFee: getNumericValue(SELECTORS.deliveryFee),\n    };\n\n    // Calculate components\n    const calculations = {\n      extrasTotal: calculateExtrasTotal(),\n      vehicleCost: baseValues.vehiclePrice * baseValues.duration,\n    };\n\n    // Calculate totals\n    const subtotal =\n      calculations.vehicleCost +\n      calculations.extrasTotal +\n      baseValues.deliveryFee;\n    const tax = subtotal * TAX_RATE;\n    const total = subtotal + tax;\n\n    // Update all displays\n    const updates = {\n      [SELECTORS.totalExtra]: calculations.extrasTotal,\n      [SELECTORS.tax]: tax,\n      [SELECTORS.subtotal]: subtotal,\n      [SELECTORS.total]: total,\n    };\n\n    // Batch update DOM elements\n    Object.entries(updates).forEach(([selector, value]) => {\n      updateElement(selector, value);\n    });\n\n    return { subtotal, tax, total };\n  } catch (error) {\n    return { subtotal: 0, tax: 0, total: 0 };\n  }\n};\n","import { calculateTotals } from \"./calculations\";\n\n// Optimized EXTRAS array with proper mapping\nconst EXTRAS = [\n  {\n    id: 1,\n    name: \"NAD-45-000.00-Excess-Waiver\",\n    baseFee: 45000,\n    perDay: false,\n    displayName: \"NAD 45,000.00 Excess Waiver\",\n  },\n  {\n    id: 2,\n    name: \"Tyre-Glass-Waiver\",\n    baseFee: 165,\n    perDay: true,\n    displayName: \"Tyre & Glass Waiver @ 165.00 p.d\",\n  },\n  {\n    id: 3,\n    name: \"Cross-Border-Charge\",\n    baseFee: 100,\n    perDay: false,\n    displayName: \"Cross Border Charge @ 100.00\",\n  },\n  {\n    id: 4,\n    name: \"Satellite-Phone-N-6000-Excess\",\n    baseFee: 140,\n    perDay: true,\n    displayName: \"Satellite Phone (N$6000 Excess) @ 140.00 p.d\",\n  },\n  {\n    id: 5,\n    name: \"Satellite-Phone-Zero-Excess\",\n    baseFee: 170,\n    perDay: true,\n    displayName: \"Satellite Phone (Zero Excess) @ 170.00 p.d\",\n  },\n  {\n    id: 6,\n    name: \"Camping-Equipment---Double-Cab\",\n    baseFee: 170,\n    perDay: true,\n    displayName: \"Camping Equipment - Double Cab @ NAD 170.00 p.d\",\n  },\n  {\n    id: 7,\n    name: \"Roof-Tents-Required\",\n    baseFee: 60,\n    perDay: true,\n    displayName: \"Roof Tents Required @ NAD 60.00 p.d\",\n  },\n  {\n    id: 8,\n    name: \"Engel-40L-Fridge-Freezer\",\n    baseFee: 90,\n    perDay: true,\n    displayName: \"Engel 40L Fridge/Freezer @ 90.00 p.d\",\n  },\n  {\n    id: 9,\n    name: \"Bedding-incl.-1x-sleeping-bag-1x-pillow\",\n    baseFee: 20,\n    perDay: true,\n    displayName: \"Bedding (incl. 1x sleeping bag + 1x pillow) @ 20.00 p.d\",\n  },\n  {\n    id: 10,\n    name: \"GPS-System\",\n    baseFee: 75,\n    perDay: true,\n    displayName: \"GPS System @ 75.00 p.d\",\n  },\n  {\n    id: 11,\n    name: \"SAT-Phone-Minutes\",\n    baseFee: 825,\n    perDay: false,\n    displayName: \"SAT Phone Minutes @ 825.00 once.off\",\n  },\n  {\n    id: 12,\n    name: \"Kitchen-wash-up-kit-small-dish-wash-liquid-2x-drying-cloth-2x-sponge-2x-cleaning-cloth-extras\",\n    baseFee: 150,\n    perDay: false,\n    displayName: \"Kitchen wash up kit @ 150.00 once.off\",\n  },\n  {\n    id: 13,\n    name: \"Ground-Tent\",\n    baseFee: 0,\n    perDay: false,\n    displayName: \"Free Ground Tent\",\n  },\n  {\n    id: 14,\n    name: \"Jerry-Can\",\n    baseFee: 10,\n    perDay: true,\n    displayName: \"Jerry Can @ 10.00 p.d\",\n  },\n  {\n    id: 15,\n    name: \"Baby-Seat\",\n    baseFee: 0,\n    perDay: false,\n    displayName: \"Free Baby Seat\",\n  },\n].map((extra) => ({\n  ...extra,\n  key: `extra-${extra.id}`,\n  inputId: `i-extra-${extra.id}`,\n  countId: `i-count-extra-${extra.id}`,\n  displayId: `v-calc-extra-${extra.id}`,\n  // Add validation helpers\n  getElements() {\n    return {\n      checkbox: document.querySelector(`#${this.inputId}`),\n      quantity: document.querySelector(`#${this.countId}`),\n      display: document.querySelector(`#${this.displayId}`),\n    };\n  },\n  isValid() {\n    const elements = this.getElements();\n    return elements.checkbox && elements.quantity && elements.display;\n  },\n}));\n\nconst updateExtraCalculation = (extraId) => {\n  const extra = EXTRAS.find((e) => e.id === extraId);\n  if (!extra || !extra.isValid()) return;\n\n  const elements = extra.getElements();\n  const quantity = parseInt(elements.quantity.value) || 0;\n  const duration =\n    parseInt(document.querySelector(\"#v-calc-duration\")?.textContent) || 0;\n\n  const cost = extra.perDay\n    ? extra.baseFee * quantity * duration\n    : extra.baseFee * quantity;\n\n  elements.display.textContent = cost.toFixed(2);\n\n  // Update total extras after individual calculation\n  updateExtrasTotal();\n};\n\n// New function to update extras total display\nconst updateExtrasTotal = () => {\n  const totalElement = document.querySelector(\"#v-calc-total-extra\");\n  if (!totalElement) return;\n\n  const total = EXTRAS.reduce((sum, extra) => {\n    if (!extra.isValid()) return sum;\n\n    const elements = extra.getElements();\n    if (!elements.checkbox.checked || elements.display.textContent === \"-\") {\n      return sum;\n    }\n\n    return sum + parseFloat(elements.display.textContent || \"0\");\n  }, 0);\n\n  totalElement.textContent = total.toFixed(2);\n};\n\nexport const calculateExtrasTotal = () => {\n  const total = EXTRAS.reduce((sum, extra) => {\n    if (!extra.isValid()) return sum;\n\n    const elements = extra.getElements();\n    if (!elements.checkbox.checked || elements.display.textContent === \"-\") {\n      return sum;\n    }\n\n    return sum + parseFloat(elements.display.textContent || \"0\");\n  }, 0);\n\n  // Update the display element\n  const totalElement = document.querySelector(\"#v-calc-total-extra\");\n  if (totalElement) {\n    totalElement.textContent = total.toFixed(2);\n  }\n\n  return total;\n};\n\nexport const initializeExtras = () => {\n  EXTRAS.forEach((extra) => {\n    if (!extra.isValid()) return;\n\n    const elements = extra.getElements();\n\n    elements.checkbox.addEventListener(\"change\", () => {\n      if (elements.checkbox.checked) {\n        elements.quantity.value = elements.quantity.value || \"1\";\n        updateExtraCalculation(extra.id);\n      } else {\n        elements.quantity.value = \"\";\n        elements.display.textContent = \"-\";\n        updateExtrasTotal();\n      }\n      calculateTotals();\n    });\n\n    elements.quantity.addEventListener(\"change\", () => {\n      if (elements.checkbox.checked) {\n        updateExtraCalculation(extra.id);\n        calculateTotals();\n      }\n    });\n  });\n\n  updateExtrasTotal();\n};\n\nexport const getExtraPrice = (extraName) => {\n  const extra = EXTRAS.find((e) => e.name === extraName);\n  return extra ? extra.baseFee : 0;\n};\n","/**\n * API Exchange Module\n * Handles currency conversion functionality with real-time exchange rates\n * @module apiExchange\n */\n\n/**\n * Exchange rates configuration\n * @constant {Object}\n * @property {number} NAD - Base currency (Namibian Dollar)\n * @property {number} USD - US Dollar rate\n * @property {number} EUR - Euro rate\n * @property {number} GBP - British Pound rate\n */\nlet EXCHANGE_RATES = {\n  NAD: 1,\n  USD: 0.054,\n  EUR: 0.049,\n  GBP: 0.042,\n};\n\n/**\n * Currency display configuration\n * @constant {Object}\n */\nconst CURRENCY_CONFIG = {\n  NAD: { symbol: \"N$\", decimals: 2 },\n  USD: { symbol: \"$\", decimals: 2 },\n  EUR: { symbol: \"€\", decimals: 2 },\n  GBP: { symbol: \"£\", decimals: 2 },\n};\n\n// At the top of the file, add rate update tracking\nconst RATE_UPDATE_INTERVAL = 3600000; // 1 hour in milliseconds\nlet lastRateUpdate = 0;\n\n// Add rate updating functionality\nasync function updateExchangeRates() {\n  const now = Date.now();\n  if (now - lastRateUpdate < RATE_UPDATE_INTERVAL) {\n    return; // Skip if rates were updated recently\n  }\n\n  const rates = await fetchExchangeRates();\n  if (rates) {\n    EXCHANGE_RATES = { ...rates };\n    lastRateUpdate = now;\n  }\n}\n\n/**\n * Initializes currency toggle functionality\n * @exports initializeCurrencyToggle\n * @throws {Error} If currency inputs are not found\n */\nexport const initializeCurrencyToggle = async () => {\n  try {\n    await updateExchangeRates(); // Get fresh rates on initialization\n\n    const currencyInputs = document.querySelectorAll(\n      'input[name=\"currency-group\"]'\n    );\n    if (!currencyInputs.length) {\n      throw new Error(\"No currency inputs found\");\n    }\n\n    const nadRadio = document.getElementById(\"i-currency-nad\");\n    if (nadRadio) {\n      nadRadio.checked = true;\n      updateCurrencyDisplay(\"NAD\");\n    }\n\n    // Use event delegation for better performance\n    const currencyGroup = document\n      .querySelector('[name=\"currency-group\"]')\n      .closest(\"form\");\n    if (currencyGroup) {\n      currencyGroup.addEventListener(\"change\", (e) => {\n        if (e.target.name === \"currency-group\") {\n          handleCurrencyChange(e);\n        }\n      });\n    }\n  } catch (error) {\n    console.error(\"Failed to initialize currency toggle:\", error);\n    showErrorMessage(\"Currency initialization failed\");\n  }\n};\n\n/**\n * Handles currency change events\n * @param {Event} e - Change event\n * @private\n */\nfunction handleCurrencyChange(e) {\n  const newCurrency = e.target.value;\n  updateCurrencyDisplay(newCurrency);\n}\n\n/**\n * Updates all price displays with the new currency\n * @param {string} newCurrency - The currency code to convert to\n * @exports updateCurrencyDisplay\n * @throws {Error} If currency is invalid\n */\nexport const updateCurrencyDisplay = (newCurrency) => {\n  try {\n    validateCurrency(newCurrency);\n    updatePriceElements(newCurrency);\n    updateCurrencySymbols(newCurrency);\n  } catch (error) {\n    console.error(\"Error updating currency:\", error);\n    showErrorMessage(`Failed to update currency: ${error.message}`);\n  }\n};\n\n/**\n * Shows error message to user\n * @param {string} message - Error message to display\n * @private\n */\nfunction showErrorMessage(message) {\n  const errorAlert = document.querySelector(\".error-alert-bg\");\n  if (errorAlert) {\n    errorAlert.querySelector(\".error-alert-text\").textContent = message;\n    errorAlert.classList.remove(\"is-hidden\");\n    setTimeout(() => errorAlert.classList.add(\"is-hidden\"), 5000);\n  }\n}\n\n/**\n * Validates the currency code\n * @param {string} currency - The currency code to validate\n * @throws {Error} If currency is invalid\n */\nfunction validateCurrency(currency) {\n  const rate = EXCHANGE_RATES[currency];\n  if (!rate) {\n    throw new Error(`Invalid currency: ${currency}`);\n  }\n}\n\n/**\n * Updates all price elements with converted values\n * @param {string} currency - The currency to convert to\n */\nfunction updatePriceElements(currency) {\n  const rate = EXCHANGE_RATES[currency];\n  const config = CURRENCY_CONFIG[currency];\n\n  // First, handle all individual price elements\n  document.querySelectorAll('[id^=\"v-calc-\"]').forEach((element) => {\n    // Skip non-price elements\n    if (element.id === \"v-calc-duration\") return;\n    if (element.textContent === \"-\") return;\n\n    // Store original NAD value on first conversion\n    if (\n      !element.hasAttribute(\"data-original-price\") &&\n      element.textContent !== \"-\"\n    ) {\n      element.setAttribute(\"data-original-price\", element.textContent);\n    }\n\n    // Get the original NAD price\n    const originalPrice = parseFloat(\n      element.getAttribute(\"data-original-price\")\n    );\n\n    if (!isNaN(originalPrice)) {\n      // Handle different element types\n      if (element.id === \"v-calc-vehicle-price\") {\n        const convertedPrice = (originalPrice * rate).toFixed(config.decimals);\n        element.textContent = convertedPrice;\n      } else if (element.id.startsWith(\"v-calc-extra-\")) {\n        const convertedPrice = (originalPrice * rate).toFixed(config.decimals);\n        element.textContent = convertedPrice;\n      } else if (element.id === \"v-calc-delivery-fee\") {\n        const convertedPrice = (originalPrice * rate).toFixed(config.decimals);\n        element.textContent = convertedPrice;\n      }\n    }\n  });\n\n  // Then, recalculate totals after all individual prices are converted\n  calculateTotalExtras(rate, config.decimals);\n  calculateFinalTotals(rate, config.decimals);\n}\n\n/**\n * Calculate total extras in the current currency\n * @param {number} rate - Current exchange rate\n * @param {number} decimals - Number of decimal places\n */\nfunction calculateTotalExtras(rate, decimals) {\n  const totalExtrasElement = document.querySelector(\"#v-calc-total-extra\");\n  if (!totalExtrasElement) return;\n\n  let totalExtras = 0;\n  document.querySelectorAll('[id^=\"v-calc-extra-\"]').forEach((extraElement) => {\n    if (extraElement.textContent !== \"-\") {\n      const originalPrice = parseFloat(\n        extraElement.getAttribute(\"data-original-price\")\n      );\n      if (!isNaN(originalPrice)) {\n        totalExtras += originalPrice;\n      }\n    }\n  });\n\n  // Convert total extras to current currency\n  const convertedTotal = (totalExtras * rate).toFixed(decimals);\n  totalExtrasElement.textContent = convertedTotal;\n\n  // Store original NAD value\n  if (!totalExtrasElement.hasAttribute(\"data-original-price\")) {\n    totalExtrasElement.setAttribute(\n      \"data-original-price\",\n      totalExtras.toString()\n    );\n  }\n}\n\n/**\n * Calculate final totals (subtotal, tax, total) in the current currency\n * @param {number} rate - Current exchange rate\n * @param {number} decimals - Number of decimal places\n */\nfunction calculateFinalTotals(rate, decimals) {\n  const elements = {\n    subtotal: document.querySelector(\"#v-calc-subtotal\"),\n    tax: document.querySelector(\"#v-calc-tax\"),\n    total: document.querySelector(\"#v-calc-total\"),\n  };\n\n  // Get original NAD values\n  const vehiclePrice = parseFloat(\n    document\n      .querySelector(\"#v-calc-vehicle-price\")\n      ?.getAttribute(\"data-original-price\") || \"0\"\n  );\n  const duration = parseInt(\n    document.querySelector(\"#v-calc-duration\")?.textContent || \"0\"\n  );\n  const deliveryFee = parseFloat(\n    document\n      .querySelector(\"#v-calc-delivery-fee\")\n      ?.getAttribute(\"data-original-price\") || \"0\"\n  );\n  const totalExtras = parseFloat(\n    document\n      .querySelector(\"#v-calc-total-extra\")\n      ?.getAttribute(\"data-original-price\") || \"0\"\n  );\n\n  // Calculate in NAD first\n  const subtotalNAD = vehiclePrice * duration + deliveryFee + totalExtras;\n  const taxNAD = subtotalNAD * 0.15; // 15% tax rate\n  const totalNAD = subtotalNAD + taxNAD;\n\n  // Convert and display\n  if (elements.subtotal) {\n    elements.subtotal.textContent = (subtotalNAD * rate).toFixed(decimals);\n    elements.subtotal.setAttribute(\n      \"data-original-price\",\n      subtotalNAD.toString()\n    );\n  }\n  if (elements.tax) {\n    elements.tax.textContent = (taxNAD * rate).toFixed(decimals);\n    elements.tax.setAttribute(\"data-original-price\", taxNAD.toString());\n  }\n  if (elements.total) {\n    elements.total.textContent = (totalNAD * rate).toFixed(decimals);\n    elements.total.setAttribute(\"data-original-price\", totalNAD.toString());\n  }\n}\n\n/**\n * Updates all currency symbols in the UI\n * @param {string} currency - The new currency symbol to display\n */\nfunction updateCurrencySymbols(currency) {\n  document.querySelectorAll(\".currency-symbol\").forEach((element) => {\n    element.textContent = currency;\n  });\n}\n\nconst API_KEY = \"f8eb8575dc0df45769f9bc6c\"; // Replace with your actual API key\nconst BASE_URL = \"https://v6.exchangerate-api.com/v6\";\n\n/**\n * Optimize the fetchExchangeRates function with better error handling\n * @exports fetchExchangeRates\n * @param {string} baseCurrency - The base currency code\n * @returns {Promise<Object>} - The exchange rates for the specified base currency\n * @throws {Error} If an error occurs while fetching exchange rates\n */\nexport async function fetchExchangeRates(baseCurrency = \"NAD\") {\n  try {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 5000); // 5 second timeout\n\n    const response = await fetch(\n      `${BASE_URL}/${API_KEY}/latest/${baseCurrency}`,\n      { signal: controller.signal }\n    );\n\n    clearTimeout(timeoutId);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n\n    if (data.result === \"success\") {\n      return data.conversion_rates;\n    } else {\n      throw new Error(data[\"error-type\"] || \"Failed to fetch exchange rates\");\n    }\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      console.error(\"Request timed out\");\n    } else {\n      console.error(\"Error fetching exchange rates:\", error);\n    }\n    return null;\n  }\n}\n","/**\n * API Choice Module\n * Handles country selection functionality using the REST Countries API\n * @module apiChoice\n */\n\n/**\n * Fetches country data from the REST Countries API\n * @async\n * @returns {Promise<Array>} Array of country objects, or empty array if fetch fails\n */\nasync function fetchCountries() {\n  const API_URL = \"https://restcountries.com/v3.1/all\";\n\n  try {\n    const response = await fetch(API_URL);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Error fetching countries:\", error);\n    return [];\n  }\n}\n\n/**\n * Populates the country select dropdown with data from the REST Countries API\n * @async\n * @exports populateCountrySelect\n */\nexport const populateCountrySelect = async () => {\n  const countrySelect = document.querySelector(\"#i-country\");\n  if (!countrySelect) {\n    console.warn(\"Country select element not found\");\n    return;\n  }\n\n  try {\n    // Initialize Choices.js dropdown with configuration\n    const choices = new Choices(countrySelect, {\n      searchEnabled: true,\n      searchPlaceholderValue: \"Search for a country\",\n      placeholder: true,\n      placeholderValue: \"Select a country\",\n      removeItemButton: true,\n      silent: true,\n    });\n\n    // Fetch and format country data\n    const countries = await fetchCountries();\n    const formattedChoices = formatCountryChoices(countries);\n\n    // Update the dropdown with formatted choices\n    choices.setChoices(formattedChoices, \"value\", \"label\", true);\n  } catch (error) {\n    console.error(\"Error initializing country select:\", error);\n  }\n};\n\n/**\n * Formats country data for the Choices.js dropdown\n * @param {Array} countries - Array of country objects from the API\n * @returns {Array} Formatted array of choice objects\n */\nfunction formatCountryChoices(countries) {\n  return countries\n    .sort((a, b) => a.name.common.localeCompare(b.name.common))\n    .map((country) => ({\n      value: country.cca2,\n      label: country.name.common,\n    }));\n}\n"],"names":[],"version":3,"file":"app.js.map"}